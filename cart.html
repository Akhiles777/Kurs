<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Ä–∑–∏–Ω–∞ - –¶–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω "–¶–≤–µ—Ç—É—â–∏–π —Å–∞–¥"</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <h1>–¶–≤–µ—Ç—É—â–∏–π —Å–∞–¥</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                    <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
            </nav>
            <div class="cart">
                <a href="cart.html" class="cart-icon">üõí <span class="cart-count">0</span></a>
            </div>
        </div>
    </header>

    <main>
        <section class="cart-section">
            <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
            <div class="cart-container">
                <div class="cart-items">
                    <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ç–æ–≤–∞—Ä—ã -->
                </div>
                <div class="cart-summary">
                    <h3>–ò—Ç–æ–≥–æ</h3>
                    <div class="summary-row">
                        <span>–¢–æ–≤–∞—Ä—ã:</span>
                        <span class="subtotal">0 ‚ÇΩ</span>
                    </div>
                    <div class="summary-row">
                        <span>–î–æ—Å—Ç–∞–≤–∫–∞:</span>
                        <span class="delivery-cost">0 ‚ÇΩ</span>
                    </div>
                    <div class="summary-row total">
                        <span>–ö –æ–ø–ª–∞—Ç–µ:</span>
                        <span class="total-amount">0 ‚ÇΩ</span>
                    </div>
                    <button class="btn checkout-btn" disabled>–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67</p>
                <p>Email: info@flower-shop.ru</p>
                <p>–ê–¥—Ä–µ—Å: —É–ª. –¶–≤–µ—Ç–æ—á–Ω–∞—è, 1</p>
            </div>
            <div class="footer-section">
                <h3>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h3>
                <p>–ü–Ω-–ü—Ç: 9:00 - 20:00</p>
                <p>–°–±-–í—Å: 10:00 - 19:00</p>
            </div>
            <div class="footer-section">
                <h3>–ú—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö</h3>
                <div class="social-links">
                    <a href="#">Instagram</a>
                    <a href="#">Facebook</a>
                    <a href="#">VK</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 –¶–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω "–¶–≤–µ—Ç—É—â–∏–π —Å–∞–¥". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script>
        // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ—Ä–∑–∏–Ω—ã
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartItems = document.querySelector('.cart-items');
        const subtotalElement = document.querySelector('.subtotal');
        const deliveryCostElement = document.querySelector('.delivery-cost');
        const totalAmountElement = document.querySelector('.total-amount');
        const checkoutBtn = document.querySelector('.checkout-btn');

        function updateCart() {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –≤ —à–∞–ø–∫–µ
            const cartCount = document.querySelector('.cart-count');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;

            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ç–æ–≤–∞—Ä–∞–º–∏
            cartItems.innerHTML = '';

            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="empty-cart">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
                checkoutBtn.disabled = true;
                return;
            }

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
            cart.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                itemElement.innerHTML = `
                    <div class="item-info">
                        <h4>${item.name}</h4>
                        <p class="item-price">${item.price} ‚ÇΩ</p>
                    </div>
                    <div class="item-quantity">
                        <button class="quantity-btn minus" data-id="${item.id}">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn plus" data-id="${item.id}">+</button>
                    </div>
                    <div class="item-total">
                        ${item.price * item.quantity} ‚ÇΩ
                    </div>
                    <button class="remove-btn" data-id="${item.id}">√ó</button>
                `;
                cartItems.appendChild(itemElement);
            });

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–∏
            updateTotals();
            checkoutBtn.disabled = false;
        }

        function updateTotals() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const deliveryCost = subtotal > 0 ? 300 : 0; // –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ 300‚ÇΩ
            const total = subtotal + deliveryCost;

            subtotalElement.textContent = `${subtotal} ‚ÇΩ`;
            deliveryCostElement.textContent = `${deliveryCost} ‚ÇΩ`;
            totalAmountElement.textContent = `${total} ‚ÇΩ`;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        cartItems.addEventListener('click', (e) => {
            const target = e.target;
            const id = target.dataset.id;

            if (target.classList.contains('quantity-btn')) {
                const item = cart.find(item => item.id === id);
                if (item) {
                    if (target.classList.contains('plus')) {
                        item.quantity++;
                    } else if (target.classList.contains('minus')) {
                        item.quantity--;
                        if (item.quantity <= 0) {
                            cart = cart.filter(item => item.id !== id);
                        }
                    }
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCart();
                }
            } else if (target.classList.contains('remove-btn')) {
                cart = cart.filter(item => item.id !== id);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCart();
            }
        });

        checkoutBtn.addEventListener('click', () => {
            alert('–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
            cart = [];
            localStorage.removeItem('cart');
            updateCart();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã
        updateCart();
    </script>
</body>
</html> 